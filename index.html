<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
    <!-- Performance: Preconnect to critical third-party origins -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="dns-prefetch" href="https://www.googletagmanager.com">
    
    <!-- BN Official Typography with font-display: swap to prevent FOIT -->
    <!-- font-display=swap ensures text remains visible during font loading (FOUT instead of FOIT) -->
    <link href="https://fonts.googleapis.com/css2?family=Gilda+Display&family=Playfair+Display:wght@400;500;600;700;800&family=Inter:wght@300;400;500;600;700;800&family=Amiri:wght@400;700&family=Noto+Naskh+Arabic:wght@400;500;600;700&display=swap" rel="stylesheet" media="print" onload="this.media='all'">
    <noscript>
      <link href="https://fonts.googleapis.com/css2?family=Gilda+Display&family=Playfair+Display:wght@400;500;600;700;800&family=Inter:wght@300;400;500;600;700;800&family=Amiri:wght@400;700&family=Noto+Naskh+Arabic:wght@400;500;600;700&display=swap" rel="stylesheet">
    </noscript>
    
    <!-- Material Symbols - loaded asynchronously -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&display=swap" media="print" onload="this.media='all'">
    <noscript>
      <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&display=swap">
    </noscript>
    
    <!-- Critical CSS inlined for above-the-fold content -->
    <style>
      /* Critical CSS - Prevent layout shift and show content immediately */
      body { 
        font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
      }
      /* Prevent FOIT - show fallback font immediately */
      .font-playfair { font-family: 'Playfair Display', Georgia, serif; }
      .font-arabic { font-family: 'Noto Naskh Arabic', 'Amiri', serif; }
      /* Initial loading state */
      #root:empty::after {
        content: '';
        display: block;
        width: 40px;
        height: 40px;
        margin: 20vh auto;
        border: 3px solid #e2e8f0;
        border-top-color: #3b82f6;
        border-radius: 50%;
        animation: spin 1s linear infinite;
      }
      @keyframes spin { to { transform: rotate(360deg); } }
    </style>
    <title>Bibliothèque Nationale du Royaume du Maroc - BNRM</title>
    <link rel="icon" type="image/png" href="/favicon.png" />
    <link rel="apple-touch-icon" href="/favicon.png" />
    <meta name="description" content="Bibliothèque Nationale du Royaume du Maroc - Gardienne du patrimoine écrit marocain et porte d'accès au savoir universel. Collections de manuscrits, livres rares et ressources numériques." />
    <meta name="author" content="Bibliothèque Nationale du Royaume du Maroc" />
    <meta name="keywords" content="bibliothèque, maroc, manuscrits, patrimoine, culture marocaine, recherche, dépôt légal" />

    <meta property="og:title" content="Bibliothèque Nationale du Royaume du Maroc - BNRM" />
    <meta property="og:description" content="Découvrez les trésors documentaires du Maroc. Collections de manuscrits anciens, livres rares et bibliothèque numérique." />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="https://lovable.dev/opengraph-image-p98pqg.png" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@lovable_dev" />
    <meta name="twitter:image" content="https://lovable.dev/opengraph-image-p98pqg.png" />
    
    <!-- Force light mode before page renders -->
    <script>
      (function() {
        // Remove any dark mode preference immediately
        try {
          localStorage.removeItem('theme');
          document.documentElement.classList.remove('dark');
        } catch (e) {}
      })();
    </script>
    
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=GA_MEASUREMENT_ID"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'GA_MEASUREMENT_ID', {
        page_path: window.location.pathname,
        anonymize_ip: true
      });
    </script>
  </head>

  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
